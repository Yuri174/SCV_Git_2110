# Работа с Git

## 1. Проверка наличия установленного Git
В терминале выполнить команду `git version`
Если Git установлен, появится сообщение с информацией о версии программы. Иначе будет сообщение об ошибке.

## 2. Установка Git
Загружаем последнюю версию Git с сайта 
https://git-scm.com/download
Устанавливаем с настройками по умолчанию.

## 3. Настройка Git
При первом использовании Git необходимо представиться. Для этого нужно ввести в терминале 2 команды:
```
git config --global user.name "Имя пользователя"
git config --global user.email "почта@pochta.com"
```
## 4. Инициализация репозитория
Репозиторий Git — это виртуальное хранилище проекта. В нем можно хранить версии кода для доступа по мере необходимости.
1. Для создания нового репозитория используется команда `git init`. Команду `git init` выполняют только один раз для первоначальной настройки нового репозитория. Выполнение команды приведет к созданию нового подкаталога .git в вашем рабочем каталоге. Кроме того, будет создана новая главная ветка.
2. Клонировать существующий репозиторий Git из любого места. Сделать это можно так:
```
git clone <адрес репозитория>
```
## 5. Запись изменений в репозиторий.
Каждый файл в рабочей папке(репозитории) может находиться в одном из двух состояний: подверсионным контролем (отслеживаемые) и нет (неотслеживаемые).

Отслеживаемые файлы могут быть неизмененными, измененныйми или подготовленными  к commit.

Команда `git add` добавляет изменение из рабочего каталога в раздел проиндексированных файлов. Она сообщает Git, что вы хотите включить изменения в конкретном файле в следующий коммит. 
Однако на самом деле команда `git add` не оказывает существенного влияния на репозиторий: изменения регистрируются в нем только после выполнения команды `git commit`.
Наряду с этими командами вам понадобится команда `git status`, которая показывает состояние рабочего каталога и раздела проиндексированных файлов.
Сравнение — это функция, анализирующая два входных набора данных и отображающая различия между ними. `git diff` представляет собой многоцелевую команду Git, которая инициирует функцию сравнения источников данных Git — коммитов, веток, файлов и т. д.
Зачастую вместе с командой `git diff` используются `git status` и `git log` для анализа текущего состояния репозитория Git.

## 6. Просмотр истории коммитов.

Для просмотра истории коммитов используется команда
```
git log
```
Данная команда перечисляет коммиты с их хэш-комади, именем и электронной почтой автора, датой создания и сообщением коммита.

## 7. Команды: `git log, git checkout`.
`git log` перечисляет коммиты, сделанные в репозитории в обратном к хронологическому порядке — последние коммиты находятся вверху.
Команда `git log` имеет очень большое количество опций для поиска коммитов по разным критериям. Рассмотрим наиболее популярные из них.

Одним из самых полезных аргументов является -p или --patch, который показывает разницу (выводит патч), внесенную в каждый коммит. Так же вы можете ограничить количество записей в выводе команды; используйте параметр -2 для вывода только двух записей.
Перемещаться между нашими "сохранениями" можно с помощью команды `git checkout`. Для этого достаточно применить команду git checkout <номер коммита>.
Можно отменить изменения с помощью команд `git revert` и `git reset`. `git revert` <номер коммита> отменит изменения до указанной версии и создаст новый коммит. `git reset --hard` <номер коммита> отменит изменения до указанного коммита и затрёт всю историю изменений после этого коммита
## 8. Возврат в актуальное состояние после перемещения по коммитам. А так же изменение в коммит.
`git switch - ` Возвращение в актуальное состояние после перемещения по коммитам.
Если вы хотите переделать коммит — внесите необходимые изменения, добавьте их в индекс и сделайте коммит ещё раз, указав параметр --amend:`git commit --amend` 

## 9. Работа с изображениями.

Чтобы вставить изображения в текст, достаточно записать следующее:
```
![текст](название файла.)
```
Пример:
```![Привет, это поле!](%D0%BF%D0%BE%D0%BB%D0%B5.jpg)```

![Привет, это поле!](%D0%BF%D0%BE%D0%BB%D0%B5.jpg)
## 10. Игнорирование файлов.
Git рассматривает каждый файл в вашей рабочей копии как файл одного из трех нижеуказанных типов:

1. Отслеживаемый файл — файл, который был предварительно проиндексирован или зафиксирован в коммите.
2. Неотслеживаемый файл — файл, который не был проиндексирован или зафиксирован в коммите.
3. Игнорируемый файл — файл, явным образом помеченный для Git как файл, который необходимо игнорировать.

Игнорируемые файлы отслеживаются в специальном файле `.gitignore`, который регистрируется в корневом каталоге репозитория. В Git нет специальной команды для указания игнорируемых файлов: вместо этого необходимо вручную отредактировать файл 
`.gitignore`, чтобы указать в нем новые файлы, которые должны быть проигнорированы.
## 11. Информация по работе с ветками (создание, слияние, разрешение конфликтов, удаление).

### 1. Создание ветки.

 Как только вы создаете свой первый коммит, Git создаёт основную ветку, в нашем случае ее имя будет `main`. Тем не менее, мы можем создавать свои ветки и переключаться между ними. Создать свою ветку можно двумя способами:
 
 1. `git branch <имя ветки>` - Создает новую ветку. Пример: git branch feature

 2. `git checkout -b` - В основе данного способа лежит тот факт, что команда `git checkout` умеет создавать ветки и сразу переключаться на них. Это намного удобнее, чем выполнять два этих действия по отдельности. Поэтому данный способ является более предпочтительным, так как задействует только одну команду `git checkout` со специальным ключом `-b` .

 Пример: git checkout <ключ> <имя ветки>:  `git checkout -b feature`

 ### 2. Слияние веток и удаление ненужной ветки.

Основная цель создание дополнительных веток – проработать отдельный элемент проекта автономно а затем присоединить его к проекту. Поэтому в большинстве случаев эти ветки в конечном итоге объединяются с веткой `main`. Процедура объединения веток называется слияние `(merge)`.

 Для слияния текущей ветки с какой-либо другой используется команда:

```git merge имя_ветки``` 

В результате выполнения этой команды в текущей ветке появится новый коммит. Этот коммит будет иметь два предка – последние коммиты обоих веток, участвующих в слиянии. Содержимое этого коммита будет включать содержимое коммитов обоих веток.

После слияния веток одна из них становится лишней. Ее можно удалить командой `git branch -d`.

Типичная последовательность действий, которой завершается работа над какой-либо задачей проекта в отдельной ветке (назовем ее для примера task), будет такой:

`git checkout main`

`git merge task`

`git branch -d task`

### 3. Разрешение конфилиbbктов в ветке.

При слиянии может возникнуть ситуация, когда фрагмент в каком-либо файле проекта в различных ветках отредактирован по разному. Такая ситуация называется конфликт 
(`conflict`).

В случае возникновения конфликтов git заносит в создаваемый при объединении коммит файл, содержащий текст обоих версий. Начало конфликтного фрагмента помечается строкой, начинающиеся с символов `<<<<<<<` и содержащей имя первой ветки, а заканчивается строкой, начинающиеся с символов `>>>>>>>` и содержащей имя вливаемой ветки. Версии из каждой ветки разделяются строкой с символами `=======`. Такой файл получает статус не объединенный (`unmerged`).

При возникновении конфликта пользователь должен в ручном режиме его устранить. Посмотреть список не объединенных файлов можно с помощью команды `git status`. После редактирования конфликтной области и сохранения файла, нужно сообщить git о разрешении конфликта с помощью индексирования этого файла (после чего он перейдет в состояние «измененный»).

### 12. Конфликт веток при слиянии.

При возникновении конфликта пользователь должен в ручном режиме его устранить. Посмотреть список не объединенных файлов можно с помощью команды `git status`. После редактирования конфликтной области и сохранения файла, нужно сообщить git о разрешении конфликта с помощью индексирования этого файла (после чего он перейдет в состояние «измененный»).

## 13. Работа с удалёнными репозиториями, pull request.

Клонирование удаленного репозитория.
Команда `git clone`.
Например:
`git clone` <ссылка на удаленный репозиторий>
Ссылку на удаленный репозиторий можно получить нажать на зеленую кнопку Code на главной странице репозитория на GitHub.
1. В директории, откуда вы запустили команду git clone, создается директория с именем репозитория.
2. В созданную директорию копируется репозиторий, все его ветки и коммиты.
3. В новосозданный локальный репозиторий добавляется удаленный репозиторий с именем `origin` и ссылкой, которую мы передавали в git clone. Это избавляет нас от необходимости вручную писать `git remote add origin`(пример) https://github.com/smartiqaorg/geometric_lib.git. На этом процесс клонирования заканчивается.

Для получения изменений и слияние с локальной версией используется команда `git pull`

Команда `git push` в свою очередь отправляет локальную версию репозитория на внешний.

`Pull request'ы` позволяют вам рассказать другим о тех изменениях, которые вы разместили в своём `GitHub`-репозитории. Как только `pull request` отправлен, заинтересованные стороны рассматривают ваши изменения, обсуждают возможные правки или даже добавляют дополняющие коммиты, если нужно.